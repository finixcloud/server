/*! For license information please see settings-vue-settings-admin-basic-settings.js.LICENSE.txt */
(()=>{"use strict";var e,a={4157:(e,a,n)=>{var s=n(20144),i=n(22200),l=n(16453),o=n(9944);n(73317);const r=(0,n(17499).IY)().setApp("settings").detectUser().build();var E=n(26932),d=n(4820),A=n(79753),c=n(10128),O=n.n(c);const u=Object.freeze({ADDRESS:"address",AVATAR:"avatar",BIOGRAPHY:"biography",DISPLAYNAME:"displayname",EMAIL_COLLECTION:"additional_mail",EMAIL:"email",HEADLINE:"headline",NOTIFICATION_EMAIL:"notify_email",ORGANISATION:"organisation",PHONE:"phone",PROFILE_ENABLED:"profile_enabled",ROLE:"role",TWITTER:"twitter",WEBSITE:"website"}),I=Object.freeze({ADDRESS:(0,o.translate)("settings","Address"),AVATAR:(0,o.translate)("settings","Avatar"),BIOGRAPHY:(0,o.translate)("settings","About"),DISPLAYNAME:(0,o.translate)("settings","Full name"),EMAIL_COLLECTION:(0,o.translate)("settings","Additional email"),EMAIL:(0,o.translate)("settings","Email"),HEADLINE:(0,o.translate)("settings","Headline"),ORGANISATION:(0,o.translate)("settings","Organisation"),PHONE:(0,o.translate)("settings","Phone number"),PROFILE_ENABLED:(0,o.translate)("settings","Profile"),ROLE:(0,o.translate)("settings","Role"),TWITTER:(0,o.translate)("settings","Twitter"),WEBSITE:(0,o.translate)("settings","Website")}),f=(Object.freeze({PROFILE_VISIBILITY:(0,o.translate)("settings","Profile visibility")}),Object.freeze({[I.ADDRESS]:u.ADDRESS,[I.AVATAR]:u.AVATAR,[I.BIOGRAPHY]:u.BIOGRAPHY,[I.DISPLAYNAME]:u.DISPLAYNAME,[I.EMAIL_COLLECTION]:u.EMAIL_COLLECTION,[I.EMAIL]:u.EMAIL,[I.HEADLINE]:u.HEADLINE,[I.ORGANISATION]:u.ORGANISATION,[I.PHONE]:u.PHONE,[I.PROFILE_ENABLED]:u.PROFILE_ENABLED,[I.ROLE]:u.ROLE,[I.TWITTER]:u.TWITTER,[I.WEBSITE]:u.WEBSITE}),Object.freeze({LANGUAGE:"language"}),Object.freeze({LANGUAGE:(0,o.translate)("settings","Language")}),Object.freeze({PRIVATE:"v2-private",LOCAL:"v2-local",FEDERATED:"v2-federated",PUBLISHED:"v2-published"}));Object.freeze({[I.ADDRESS]:[f.LOCAL,f.PRIVATE],[I.AVATAR]:[f.LOCAL,f.PRIVATE],[I.BIOGRAPHY]:[f.LOCAL,f.PRIVATE],[I.DISPLAYNAME]:[f.LOCAL],[I.EMAIL_COLLECTION]:[f.LOCAL],[I.EMAIL]:[f.LOCAL],[I.HEADLINE]:[f.LOCAL,f.PRIVATE],[I.ORGANISATION]:[f.LOCAL,f.PRIVATE],[I.PHONE]:[f.LOCAL,f.PRIVATE],[I.PROFILE_ENABLED]:[f.LOCAL,f.PRIVATE],[I.ROLE]:[f.LOCAL,f.PRIVATE],[I.TWITTER]:[f.LOCAL,f.PRIVATE],[I.WEBSITE]:[f.LOCAL,f.PRIVATE]}),Object.freeze([I.BIOGRAPHY,I.HEADLINE,I.ORGANISATION,I.ROLE]),Object.freeze({[f.PRIVATE]:{name:f.PRIVATE,displayName:(0,o.translate)("settings","Private"),tooltip:(0,o.translate)("settings","Only visible to people matched via phone number integration through Talk on mobile"),tooltipDisabled:(0,o.translate)("settings","Not available as this property is required for core functionality including file sharing and calendar invitations"),iconClass:"icon-phone"},[f.LOCAL]:{name:f.LOCAL,displayName:(0,o.translate)("settings","Local"),tooltip:(0,o.translate)("settings","Only visible to people on this instance and guests"),iconClass:"icon-password"},[f.FEDERATED]:{name:f.FEDERATED,displayName:(0,o.translate)("settings","Federated"),tooltip:(0,o.translate)("settings","Only synchronize to trusted servers"),tooltipDisabled:(0,o.translate)("settings","Not available as publishing user specific data to the lookup server is not allowed, contact your system administrator if you have any questions"),iconClass:"icon-contacts-dark"},[f.PUBLISHED]:{name:f.PUBLISHED,displayName:(0,o.translate)("settings","Published"),tooltip:(0,o.translate)("settings","Synchronize to trusted servers and the global and public address book"),tooltipDisabled:(0,o.translate)("settings","Not available as publishing user specific data to the lookup server is not allowed, contact your system administrator if you have any questions"),iconClass:"icon-link"}}),f.LOCAL,Object.freeze({NOT_VERIFIED:0,VERIFICATION_IN_PROGRESS:1,VERIFIED:2});var L=n(7826),p=n.n(L);const b=(0,l.loadState)("settings","profileEnabledByDefault",!0),g={name:"ProfileSettings",components:{CheckboxRadioSwitch:p()},data:()=>({initialProfileEnabledByDefault:b}),methods:{async onProfileDefaultChange(e){"boolean"==typeof e&&await this.updateProfileDefault(e)},async updateProfileDefault(e){try{var a,n;const t=await(async e=>{e=e?"1":"0";const t=(0,A.generateOcsUrl)("/apps/provisioning_api/api/v1/config/apps/{appId}/{key}",{appId:"settings",key:"profile_enabled_by_default"});return await O()(),(await d.default.post(t,{value:e})).data})(e);this.handleResponse({isEnabled:e,status:null===(a=t.ocs)||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.status})}catch(e){this.handleResponse({errorMessage:t("settings","Unable to update profile default setting"),error:e})}},handleResponse(e){let{isEnabled:t,status:a,errorMessage:n,error:s}=e;"ok"===a?this.initialProfileEnabledByDefault=t:((0,E.x2)(n),this.logger.error(n,s))}}},R=(0,n(51900).Z)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section",attrs:{id:"profile-settings"}},[a("h2",{staticClass:"inlineblock"},[e._v("\n\t\t"+e._s(e.t("settings","Profile"))+"\n\t")]),e._v(" "),a("p",{staticClass:"settings-hint"},[e._v("\n\t\t"+e._s(e.t("settings","Enable or disable profile by default for new users."))+"\n\t")]),e._v(" "),a("CheckboxRadioSwitch",{attrs:{type:"switch",checked:e.initialProfileEnabledByDefault},on:{"update:checked":[function(t){e.initialProfileEnabledByDefault=t},e.onProfileDefaultChange]}},[e._v("\n\t\t"+e._s(e.t("settings","Enable"))+"\n\t")])],1)}),[],!1,null,"414249e6",null).exports;n.nc=btoa((0,i.getRequestToken)());const h=(0,l.loadState)("settings","profileEnabledGlobally",!0);s.default.mixin({props:{logger:r},methods:{t:o.translate}}),h&&(new(s.default.extend(R))).$mount(".vue-admin-profile-settings")}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=a,s.amdD=function(){throw new Error("define cannot be used indirect")},s.amdO={},e=[],s.O=(t,a,n,i)=>{if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],i=e[d][2];for(var o=!0,r=0;r<a.length;r++)(!1&i||l>=i)&&Object.keys(s.O).every((e=>s.O[e](a[r])))?a.splice(r--,1):(o=!1,i<l&&(l=i));if(o){e.splice(d--,1);var E=n();void 0!==E&&(t=E)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,n,i]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.j=6192,(()=>{s.b=document.baseURI||self.location.href;var e={6192:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,l=a[0],o=a[1],r=a[2],E=0;if(l.some((t=>0!==e[t]))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(r)var d=r(s)}for(t&&t(a);E<l.length;E++)i=l[E],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},a=self.webpackChunknextcloud=self.webpackChunknextcloud||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),s.nc=void 0;var i=s.O(void 0,[7874],(()=>s(4157)));i=s.O(i)})();
//# sourceMappingURL=settings-vue-settings-admin-basic-settings.js.map?v=5c219f0e528a9a080898